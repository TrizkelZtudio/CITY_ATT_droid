"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5249],{5249:(k,h,i)=>{i.r(h),i.d(h,{Tab3PageModule:()=>Z});var l=i(3582),d=i(3912),m=i(6814),g=i(95),e=i(2029),c=i(5861),u=i(7838),v=i(8662),C=i(553),x=i(9862);let E=(()=>{class a{constructor(t){this.http=t,this.baze=C.N.baze}MyExternals(t,n){return this.http.get(`${this.baze}/service/sms`,{params:{lat:t,lng:n}})}static#t=this.\u0275fac=function(n){return new(n||a)(e.LFG(x.eN))};static#e=this.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const b=["waitPan"],y=["sendOp"],A=["stopOp"];let P=(()=>{class a{constructor(t,n,s,o,p){this.datePipe=t,this.Actroute=n,this.router=s,this.render=o,this.ngZone=p,this._functions=(0,e.f3M)(E),this.usrs=localStorage.getItem("usrxtz")||"",this.countDown=5,this._door=!1,this.InitCuot=!1,this.Initscore=!1,this.Loccuota=0,this.keys=[]}ngOnInit(){var t=this;return(0,c.Z)(function*(){t.render.addClass(t.cancel.nativeElement,"block-offx"),t.ngZone.run(()=>{let n=t.render.selectRootElement(".navigation-tab",!0);t.render.setStyle(n,"display","none")}),t.Actroute.params.subscribe((0,c.Z)(function*(){t.render.removeClass(t.countr.nativeElement,"block-onx"),t.render.removeClass(t.sended.nativeElement,"block-onx"),t.render.removeClass(t.cancel.nativeElement,"block-onx"),t.render.addClass(t.sended.nativeElement,"block-offx"),t.render.addClass(t.cancel.nativeElement,"block-offx");let n=t.render.selectRootElement("#seconds",!0);t.render.setAttribute(n,"value",t.countDown.toString())}))})()}InitCuote(){this.initialtxt="LA ALERTA HA SIDO ENV\xcdADA",this.InitCuot=!0,localStorage.getItem("tzsson")}ScreenView(t){t<8?(this.ngZone.run(()=>{this.render.addClass(this.countr.nativeElement,"block-onx"),this.render.addClass(this.countr.nativeElement,"parrafoc"),this.render.addClass(this.countr.nativeElement,"animate__animated"),this.render.addClass(this.countr.nativeElement,"animate__fadeIn"),this.render.addClass(this.countr.nativeElement,"animate__delay-1s")}),this.Counter(this.countDown)):t||(this.initialtxt="CUOTA DE USO MAXIMO EXEDIDO  | 7 ",this.ngZone.run(()=>{this.render.addClass(this.countr.nativeElement,"block-offx"),this.render.addClass(this.cancel.nativeElement,"block-offx"),this.render.addClass(this.sended.nativeElement,"block-onx"),this.render.addClass(this.sended.nativeElement,"parrafoc2"),this.render.addClass(this.sended.nativeElement,"animate__animated"),this.render.addClass(this.sended.nativeElement,"animate__fadeIn"),this.render.addClass(this.sended.nativeElement,"animate__delay-1s")}),this.coute=setTimeout(()=>{this.router.navigateByUrl("/dashboard/home")},7e3))}EnndToLine(){let t=2;if(t>0){const n=setInterval(()=>{t--,0==t&&this.SendOK(n)},1e3)}this.OperatiOnProcess()}OperatiOnProcess(){var t=this;return(0,c.Z)(function*(){if(t.ssptkn=localStorage.getItem("tzsson"),t.ssptkn){if(yield u.b.getCurrentPosition(),(yield v.A.getInfo()).isVirtual)return;t.UsrLoc=yield u.b.watchPosition({timeout:1e4,enableHighAccuracy:!0},(r,M)=>null==r?"----buscando--- <...>":r?void(!1===t._door?(t.LoCoords={rescuexuser:{lat:r.coords.latitude,lng:r.coords.longitude,dayreport:Date.now()},usrxgene:t.usrs,report_date:Date.now(),usrxcuota:t.InitCuot,cut:t.datePipe.transform(Date.now(),"dd MM YYYY"),usrxname:localStorage.getItem("nkname")},t._door=!0):(t.OnlyCoords={rescuexuser:{lat:r.coords.latitude,lng:r.coords.longitude,dayreport:Date.now()},usrxgene:t.usrs,cut:t.datePipe.transform(Date.now(),"dd MM YYYY")},t._functions.MyExternals(12,12))):M),setTimeout((0,c.Z)(function*(){null!=t.UsrLoc&&(yield u.b.clearWatch({id:t.UsrLoc}),t._door=!1)}),18e4)}else console.log("Has jakiado la el sistema D:< ")})()}SendOK(t){clearInterval(t),this.render.removeClass(this.countr.nativeElement,"block-onx"),this.ngZone.run(()=>{this.render.addClass(this.countr.nativeElement,"block-offx"),this.render.addClass(this.cancel.nativeElement,"block-offx"),this.render.addClass(this.sended.nativeElement,"block-onx"),this.render.addClass(this.sended.nativeElement,"parrafoc2"),this.render.addClass(this.sended.nativeElement,"animate__animated"),this.render.addClass(this.sended.nativeElement,"animate__fadeIn"),this.render.addClass(this.sended.nativeElement,"animate__delay-1s")}),this.clickToHome=setTimeout(()=>{this.toHome(!0)},8e3)}Counter(t){t>0&&(this.timeProcess=setInterval(()=>{t--;let n=this.render.selectRootElement("#seconds",!0);this.render.setProperty(n,"innerHTML",t),0===t&&(clearInterval(this.timeProcess),this.EnndToLine())},1e3))}CancelLine(){this.router.navigateByUrl("/dashboard/home")}toHome(t){clearInterval(this.timeProcess),clearInterval(this.clickToHome),clearInterval(this.coute),(1==t.isTrusted||1==t)&&this.router.navigateByUrl("/dashboard/home")}anon(){window.location.href="tel:+52089"}securechat(){window.location.href='https://api.whatsapp.com/send?phone=+527714148096&text=Bot%C3%B3n%20de%20P%C3%A1nico%20%7C%20%C2%A1Necesito%20ayuda!"'}SSC(){window.location.href="tel:+527797960022"}Bomberos(){window.location.href="tel:+527797961419"}Ambulance(){window.location.href="tel:+527797960612"}static#t=this.\u0275fac=function(n){return new(n||a)(e.Y36(m.uU),e.Y36(d.gz),e.Y36(d.F0),e.Y36(e.Qsj),e.Y36(e.R0b))};static#e=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-panic"]],viewQuery:function(n,s){if(1&n&&(e.Gf(b,7),e.Gf(y,7),e.Gf(A,7)),2&n){let o;e.iGM(o=e.CRH())&&(s.countr=o.first),e.iGM(o=e.CRH())&&(s.sended=o.first),e.iGM(o=e.CRH())&&(s.cancel=o.first)}},decls:31,vars:0,consts:[[1,"animate__animated","animate__fadeIn","animate__delay-1s"],[1,"back"],["id","waitPan",1,""],["waitPan",""],[1,"element-succ",2,"width","100%"],[1,"parrafoc",2,"width","100%","text-align","center","padding-bottom","2rem"],[1,"title-parrafo",2,"color","black!important"],[1,"desc-parrafo",2,"color","#7e7e7e!important"],["id","clock"],["id","seconds-count"],["id","seconds"],[1,"button-cancel"],[2,"color","white","text-decoration","none",3,"click"],[1,"bar","red","fixed-bottom"],["id","stopOp",1,""],["stopOp",""],[1,"parrafo",2,"width","100%","text-align","center","padding-bottom","2rem"],[1,"desc-parrafo",2,"color","#394e17!important"]],template:function(n,s){1&n&&(e._UZ(0,"div",0),e.TgZ(1,"body",1)(2,"div",2,3)(4,"div",4)(5,"div",5)(6,"h5",6),e._uU(7,"EMITIENDO UBICACI\xd3N"),e.qZA(),e.TgZ(8,"p",7),e._uU(9,"COMPRUEBA UNA CONEXION ESTABLE"),e.qZA(),e.TgZ(10,"div",8),e._UZ(11,"span",9),e._uU(12," 00:0"),e.TgZ(13,"span",10),e._uU(14,"5"),e.qZA()(),e._UZ(15,"br"),e.TgZ(16,"div")(17,"span"),e._uU(18,"Tiempo de emisi\xf3n"),e.qZA()(),e.TgZ(19,"div",11)(20,"a",12),e.NdJ("click",function(){return s.CancelLine()}),e._uU(21,"CANCELAR"),e.qZA()()(),e._UZ(22,"div",13),e.qZA()(),e.TgZ(23,"div",14,15)(25,"div",4)(26,"div",16)(27,"h5",6),e._uU(28,"BOT\xd3N DE P\xc1NICO"),e.qZA(),e.TgZ(29,"p",17),e._uU(30,"HAS CANCELADO EL PROTOCOLO DE EMERGENCIA"),e.qZA()()()()())},styles:[".backto.fixed-top[_ngcontent-%COMP%]{padding-top:1rem!important;max-width:85%!important;margin:0 auto!important;color:#fff!important}div#clock[_ngcontent-%COMP%]{font-size:40px;color:#394e17}.button-cancel[_ngcontent-%COMP%]{background:#394e17;width:150px;height:39px;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;border-radius:5px;letter-spacing:0px;line-height:1;padding-top:1px;margin:0 auto;margin-top:1rem}a.salir[_ngcontent-%COMP%]{color:#7e7e7e;border:1px solid #7e7e7e;padding:3px 10px;border-radius:5px;text-decoration:none;text-transform:uppercase}.opciones-panico[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#394e17;border:1px solid;border-radius:100px;width:200px;display:block;margin:0 auto;padding-bottom:10px;padding-top:10px}.parrafoc[_ngcontent-%COMP%]{margin:25vh auto}.parrafoc2[_ngcontent-%COMP%]{margin:20vh auto}"]})}return a})(),f=(()=>{class a{constructor(){}static#t=this.\u0275fac=function(n){return new(n||a)};static#e=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-tab3"]],decls:3,vars:2,consts:[[2,"z-index","0",3,"translucent"],[3,"fullscreen"],["fixed",""]],template:function(n,s){1&n&&(e._UZ(0,"ion-header",0),e.TgZ(1,"ion-content",1),e._UZ(2,"app-panic",2),e.qZA()),2&n&&(e.Q6J("translucent",!0),e.xp6(1),e.Q6J("fullscreen",!0))},dependencies:[l.W2,l.Gu,P]})}return a})();const I=[{path:"",component:f}];let O=(()=>{class a{static#t=this.\u0275fac=function(n){return new(n||a)};static#e=this.\u0275mod=e.oAB({type:a});static#n=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(I),d.Bz]})}return a})();var T=i(1976);let Z=(()=>{class a{static#t=this.\u0275fac=function(n){return new(n||a)};static#e=this.\u0275mod=e.oAB({type:a});static#n=this.\u0275inj=e.cJS({imports:[l.Pc,m.ez,g.u5,T.u,d.Bz.forChild([{path:"",component:f}]),O]})}return a})()}}]);